var NUM_DECIMAL_PLACES=2,LEADERBOARD_URL="http://playerstats.beta.maestrosgame.com:10500/v1/getLeaderboard";function addLeaderboardTableRows(e,r){for(var t=0;t<r.length;t++){var l=e.insertRow(t+1);l.insertCell(0).innerHTML=r[t].rank,l.insertCell(1).innerHTML=r[t].playerName,l.insertCell(2).innerHTML=r[t].value}}setTimeout(function(){var e=document.getElementById("LoadingText");xhr=new XMLHttpRequest,xhr.open("POST",LEADERBOARD_URL,!0),xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhr.ontimeout=function(){e.style.color="red",e.innerHTML="Server timed out.\nPlease try again in a few minutes."},xhr.onreadystatechange=function(){if(4==xhr.readyState&&200==xhr.status){var r=JSON.parse(xhr.responseText);if(null==r||r.error)e.style.color="red",e.innerHTML="Couldn't reach server.\nPlease try again in a few minutes.",console.error(JSON.stringify(r.error));else if(null==r.multiplayerWinPercent||null==r.multiplayerKD||null==r.multiplayerXp)e.style.color="red",e.innerHTML="There was an error loading leaderboards.",console.error(JSON.stringify(r));else{e.style.visibility="hidden";for(var t=0;t<r.multiplayerWinPercent.length;t++)percent=100*r.multiplayerWinPercent[t].value,r.multiplayerWinPercent[t].value=percent.toFixed(NUM_DECIMAL_PLACES)+"%";for(t=0;t<r.multiplayerKD.length;t++)r.multiplayerKD[t].value=r.multiplayerKD[t].value.toFixed(NUM_DECIMAL_PLACES);addLeaderboardTableRows(document.getElementById("WinrateTable"),r.multiplayerWinPercent),addLeaderboardTableRows(document.getElementById("KdRatioTable"),r.multiplayerKD),addLeaderboardTableRows(document.getElementById("MultiplayerXpTable"),r.multiplayerXp),document.getElementById("leaderboards").style.visibility="visible"}}else e.style.color="red",e.innerHTML="Server timed out.\nPlease try again in a few minutes."},xhr.send()},1e3);